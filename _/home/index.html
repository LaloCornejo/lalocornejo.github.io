<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description"
    content="L Æ L Ö - Creative portfolio showcasing web development, design, and interactive projects by LÆLÖ">
  <meta name="keywords" content="LÆLÖ, web development, creative coding, portfolio, design, interactive">
  <meta name="author" content="LÆLÖ">
  <meta name="theme-color" content="#ae00ff">
  <meta name="color-scheme" content="dark light">

  <!-- Open Graph / Social Media Meta Tags -->
  <meta property="og:title" content="L Æ L Ö | Creative Portfolio">
  <meta property="og:description" content="Explore creative web development and interactive projects by LÆLÖ">
  <meta property="og:image" content="https://lalocornejo.github.io/img/og-image.png">
  <meta property="og:image:alt" content="LÆLÖ logo and portfolio preview">
  <meta property="og:url" content="https://lalocornejo.github.io">
  <meta property="og:type" content="website">

  <!-- Twitter Card Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:creator" content="@l_ae_l_o">

  <title>L Æ L Ö | Creative Portfolio</title>

  <!-- Preload critical resources -->
  <link rel="preload" href="../fonts/Zweig.ttf" as="font" type="font/ttf" crossorigin>
  <link rel="preload" href="../fonts/Agrandir-Regular.otf" as="font" type="font/otf" crossorigin>
  <link rel="preload" href="../img/Logo.svg" as="image">
  <link rel="preload" href="../img/LogoDark.svg" as="image">
  <link rel="modulepreload" href="../js/theme.js">

  <!-- Stylesheets -->
  <link rel="stylesheet" href="../css/home.css">
  <link rel="stylesheet" href="../css/global.css">

  <!-- Favicon -->
  <link rel="icon" href="../img/favicon/favicon.ico" sizes="any">
  <link rel="icon" href="../img/favicon/icon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="../img/favicon/apple-touch-icon.png">
  <link rel="manifest" href="../manifest.json">
</head>

<body class="dark-theme">
  <!-- Skip to main content for accessibility -->
  <!-- <a href="#main-content" class="skip-link visuallyhidden">Skip to main content</a> -->

  <!-- Custom cursor -->
  <!-- <div class="cursor" aria-hidden="true"></div> -->

        <!-- <div id="time" aria-label="Current time"> -->
        <!--   <ion-icon name="time-outline" aria-hidden="true"></ion-icon> -->
        <!--   <time id="current-time"></time> -->
        <!-- </div> -->

  <!-- PopOut Modal -->
  <div class="popOut" role="dialog" aria-modal="true" aria-labelledby="popout-title" aria-hidden="true">
    <div class="popOutContent">
      <iframe id="socialSnipet" src="" title="Social media content" frameborder="0" allowfullscreen="false"
        loading="lazy"></iframe>
      <div id="snippetFallback" aria-hidden="true">
        <div class="fallbackContainer">
          <a id="fallbackHeader" href="" target="_blank" rel="noopener noreferrer" aria-labelledby="fallback-title">
            <ion-icon id="iconFallback" name="" aria-hidden="true"></ion-icon>
            <h2 id="fallback-title">Couldn't load, open page in new tab <ion-icon name="enter-outline"
                aria-hidden="true"></ion-icon></h2>
          </a>
          <a id="fallbackImg" href="" target="_blank" rel="noopener noreferrer">
            <img id="fallbackIcon" src="" alt="Social platform icon" loading="lazy" width="64" height="64">
          </a>
        </div>
      </div>
    </div>
    <div class="Buttons">
      <button aria-label="Close popup" class="button-reset">
        <ion-icon id="popOutClose" name="close" aria-hidden="true"></ion-icon>
      </button>
      <a id="popOutOpen" target="_blank" rel="noopener noreferrer" aria-label="Open in new tab">
        <ion-icon name="resize" aria-hidden="true"></ion-icon>
      </a>
    </div>
  </div>

  <!-- Header-->
  <header class="navbar" role="banner">
      <div id="version" aria-label="Version information">
        <div style="display: flex; align-items: center;">
          <ion-icon name="git-branch-outline" aria-hidden="true"></ion-icon>
          <p id="versionTxt"></p>
        </div>
      </div>

      <a href="/home/" aria-label="Home">
        <img class="logoAt" id="Logo" src="../img/Logo.svg" alt="LÆLÖ Logo" width="110" height="80">
      </a>

      <div class="DarkMode">
        <button id="theme-toggle" aria-label="Switch theme" class="theme-toggle">
          <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 100 100" aria-hidden="true">
            <g class="toggle-sun">
              <circle class="cls-1" cx="50" cy="50" r="30" />
            </g>
            <g class="toggle-circle">
              <circle class="cls-1" cx="99" cy="-3" r="22" />
            </g>
          </svg>
        </button>
      </div>
  </header>

  <!-- Sidebar Navigation -->
  <aside class="sideBar sideBarInnactive" role="complementary" aria-label="Side navigation">
    <div class="sideBarHead">
      <ion-icon class="icon" name="hardware-chip-sharp" aria-hidden="true"></ion-icon>
      <span id="separatorHead"></span>
      <button id="back" aria-label="Go back">
        <ion-icon class="icon" name="arrow-back" aria-hidden="true"></ion-icon>
      </button>
      <a href="/home" aria-label="Home">
        <ion-icon class="icon" name="planet-sharp" aria-hidden="true"></ion-icon>
      </a>
    </div>

    <div class="hgrid-1x1">
      <div class="sparat">
        l_ae_l_o
      </div>
    </div>

    <div class="searchBox" role="search">
      <ion-icon class="icon" name="search" aria-hidden="true"></ion-icon>
      <label for="search-input" class="visuallyhidden">Search</label>
      <input type="search" id="search-input" placeholder="Search...">
    </div>

    <nav class="pinnedIcons" aria-label="Quick tools">
      <button class="pinnedIcon" aria-label="Code editor">
        <ion-icon name="code-slash-sharp" aria-hidden="true"></ion-icon>
      </button>
      <a href="/tools/Cplus+/" class="pinnedIcon" aria-label="Terminal tools">
        <ion-icon class="icon" name="terminal-sharp" aria-hidden="true"></ion-icon>
      </a>
      <a href="/thangs/Canvas" class="pinnedIcon" aria-label="Canvas tools">
        <ion-icon class="icon" name="brush-sharp" aria-hidden="true"></ion-icon>
      </a>
    </nav>
  </aside>

  <!-- Main Content -->
  <main id="main-content" role="main">
    <section class="hero">
      <h1 id="Title" class="Title">L Æ L Ö</h1>
      <h6 id="Quote" class="Quote">'Every moment of happiness requires a great amount of Ignorance' - Honoré de Balzac</h6>
      <a id="GithubButton" class="Hover" href="https://github.com/LaloCornejo" target="_blank" rel="noopener noreferrer"
        aria-label="Visit GitHub profile">
        <ion-icon name="logo-github" aria-hidden="true"></ion-icon>
        <span>GitHub</span>
      </a>
    </section>

    <section class="projects" aria-label="Project showcase">
      <div class="sliders">
        <div class="sliderViewPort">
          <article id="Twitch" class="sliderContainer sliderNotFocused">
            <img src="../img/Screenshot 2024-01-17 at 12-01-29 Twitch.png" alt="Twitch channel preview" width="800"
              height="450" loading="lazy">
          </article>
          <article id="GitHub" class="sliderContainer sliderFocused">
            <img src="../img/GH_Lalo.png" alt="GitHub profile preview" width="800" height="450" loading="lazy">
          </article>
          <article id="Youtube" class="sliderContainer sliderNotFocused">
            <img src="../img/YouTube Logo.png" alt="YouTube channel preview" width="800" height="450" style="scale: .4;"
              loading="lazy">
          </article>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="Footer" role="contentinfo">
    <div class="FooterContainer">
      <h2 class="FooterTitle">Contact Info</h2>
      <div class="FooterContactBubbles">
        <a class="FooterContactBubble" href="mailto:lalocornejoofficial@gmail.com" aria-label="Send email">
          <ion-icon name="mail-outline" aria-hidden="true"></ion-icon>
        </a>
        <a class="FooterContactBubble" href="https://github.com/LaloCornejo" target="_blank" rel="noopener noreferrer"
          aria-label="GitHub profile">
          <ion-icon name="logo-github" aria-hidden="true"></ion-icon>
        </a>
        <a class="FooterContactBubble" href="https://youtube.com/@l_ae_l_o" target="_blank" rel="noopener noreferrer"
          aria-label="YouTube channel">
          <ion-icon name="logo-youtube" aria-hidden="true"></ion-icon>
        </a>
        <a class="FooterContactBubble" href="https://twitch.tv/l_ae_l_o" target="_blank" rel="noopener noreferrer"
          aria-label="Twitch channel">
          <ion-icon name="logo-twitch" aria-hidden="true"></ion-icon>
        </a>
        <a class="FooterContactBubble" href="https://x.com/l_ae_l_o" target="_blank" rel="noopener noreferrer"
          aria-label="X (Twitter) profile">
          <ion-icon name="logo-twitter" aria-hidden="true"></ion-icon>
        </a>
      </div>
      <div class="FooterContentContainerText">
        <p>&copy; 2025 L Æ L Ö</p>
        <p>Designed and Developed by L Æ L Ö</p>
      </div>
    </div>
  </footer>

  <!-- Enhanced error handling and script loading -->
  <script>
    console.log('LÆLÖ - Starting page load...');

    // Add comprehensive error handling for script loading and execution
    window.addEventListener('error', function (e) {
      if (e.target.tagName === 'SCRIPT') {
        console.error(`Script loading error: ${e.target.src.split('/').pop()}`, e);

        // Visual error indicator for development
        if (localStorage.getItem('devMode') === 'true') {
          const errorNotification = document.createElement('div');
          errorNotification.style.cssText = 'position:fixed;bottom:10px;left:10px;background:rgba(255,0,0,0.8);color:white;padding:10px;font-size:12px;z-index:9999;border-radius:4px;max-width:80%;';
          errorNotification.textContent = `Script error: ${e.target.src.split('/').pop()}`;
          document.body.appendChild(errorNotification);

          // Remove notification after 5 seconds
          setTimeout(() => errorNotification.remove(), 5000);
        }
      }
    }, true);

    // Add unhandled promise rejection handler
    window.addEventListener('unhandledrejection', function (e) {
      console.error('Unhandled promise rejection:', e.reason);
    });

    // Enable module preloading for better performance
    const preloadModule = (path) => {
      const link = document.createElement('link');
      link.rel = 'modulepreload';
      link.href = path;
      document.head.appendChild(link);
    };

    // Preload critical modules
    preloadModule('../js/theme.js');
    preloadModule('../js/isMobile.js');
    preloadModule('../js/Cursor.js');
    preloadModule('../js/Slides.js');
    preloadModule('../js/home.js');
    preloadModule('../js/main.js');
  </script>

  <!-- Load critical modules using ordered sequence -->
  <script type="module">
    console.log("Starting module loading sequence...");

    // Define truly critical vs optional modules
    // Both theme.js and main.js are critical for core functionality
    const moduleSequence = [
      {name: 'Theme', path: '../js/theme.js', critical: true},
      {name: 'Main', path: '../js/main.js', critical: true},
      {name: 'isMobile', path: '../js/isMobile.js', critical: false},
      {name: 'Cursor', path: '../js/Cursor.js', critical: false},
      {name: 'Slides', path: '../js/Slides.js', critical: false},
      {name: 'Home', path: '../js/home.js', critical: true}
    ];

    // Create loading tracker
    const loadStatus = {
      total: moduleSequence.length,
      loaded: 0,
      failed: 0,
      criticalFailures: 0
    };

    // Flag to track if the site is operational
    let isSiteOperational = true;

    // Import modules sequentially
    async function loadModules() {
      for (const module of moduleSequence) {
        try {
          console.log(`Loading ${module.name} module...`);

          // Add small delay to prevent UI blocking
          if (!module.critical) {
            await new Promise(resolve => setTimeout(resolve, 10));
          }

          await import(module.path);
          console.log(`✓ ${module.name} module loaded successfully`);
          loadStatus.loaded++;
        } catch (error) {
          console.error(`✗ Error loading ${module.name} module:`, error);
          loadStatus.failed++;

          // Track critical failures separately
          if (module.critical) {
            loadStatus.criticalFailures++;
            isSiteOperational = false;

            // Apply emergency styles to ensure theme if theme load fails
            if (module.name === 'Theme') {
              document.body.classList.add('dark-theme');
              console.warn("Applied emergency dark theme due to theme module failure");
            }
          } else {
            console.warn(`Non-critical module ${module.name} failed to load - continuing...`);
          }
        }
      }

      console.log(`Module loading complete. Success: ${loadStatus.loaded}/${loadStatus.total}, Failed: ${loadStatus.failed}/${loadStatus.total}, Critical failures: ${loadStatus.criticalFailures}`);

      // Return operational status
      return isSiteOperational;
    }

    // Start module loading
    loadModules().then(operational => {
      if (!operational) {
        console.warn("Site is operational with limited functionality due to critical module failures");

        // Show limited functionality notification (non-blocking)
        const limitedFunctionNotice = document.createElement('div');
        limitedFunctionNotice.style.cssText = 'position:fixed;bottom:10px;right:10px;background:rgba(0,0,0,0.6);color:white;padding:10px;font-size:12px;z-index:9000;border-radius:4px;max-width:200px;';
        limitedFunctionNotice.innerHTML = `
            <div style="margin-bottom:5px;font-weight:bold">Limited Functionality</div>
            <div>Some features may not be available.</div>
            <button style="margin-top:5px;padding:4px 8px;background:#ae00ff;border:none;border-radius:4px;color:white;cursor:pointer;font-size:10px" onclick="this.parentNode.remove()">Dismiss</button>
          `;

        // Add after a delay to ensure DOM is ready
        setTimeout(() => {
          document.body.appendChild(limitedFunctionNotice);
        }, 3000);
      } else {
        console.log("Site is fully operational with all critical modules loaded");
      }
    }).catch(error => {
      console.error('Unexpected error during module loading:', error);

      // Show error notification only for complete failures
      const errorAlert = document.createElement('div');
      errorAlert.style.cssText = 'position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,0.8);color:white;padding:20px;font-size:16px;z-index:10000;border-radius:8px;text-align:center;max-width:300px;';
      errorAlert.innerHTML = `
          <div style="margin-bottom:10px;font-weight:bold">Something went wrong</div>
          <div>The page couldn't load properly. Try refreshing the page.</div>
          <button style="margin-top:15px;padding:8px 12px;background:#ae00ff;border:none;border-radius:4px;color:white;cursor:pointer" onclick="location.reload()">Refresh Page</button>
        `;

      // Ensure the page at least has a dark theme
      document.body.classList.add('dark-theme');

      // Add to DOM
      document.body.appendChild(errorAlert);
    });
  </script>

  <!-- Icons with fallback -->
  <script type="module" src="https://unpkg.com/ionicons@7.2.1/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@7.2.1/dist/ionicons/ionicons.js"></script>

  <!-- Fallback script for browsers without module support -->
  <script nomodule>
    // Create a user-friendly message
    const fallbackMessage = document.createElement('div');
    fallbackMessage.style.cssText = 'position:fixed;bottom:0;left:0;right:0;background:#f44336;color:white;padding:15px;text-align:center;font-size:14px;z-index:9999;';
    fallbackMessage.innerHTML = 'Your browser does not support modern JavaScript features needed to view this site. <a href="https://browsehappy.com/" style="color:white;text-decoration:underline;font-weight:bold">Please update your browser</a> for the best experience.';
    document.body.appendChild(fallbackMessage);

    // Try to load basic fallback scripts
    document.write('<script src="../js/fallback/basic.js"><\/script>');
  </script>
</body>

</html>
